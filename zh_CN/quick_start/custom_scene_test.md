# 提交自定义场景测试

[JMeter](https://jmeter.apache.org/)是Apache基于Java开发的一款开源的测试工具，可以用于对服务器，网络或对象模拟巨大的负载,来分析整体性能。开发者可以通过创建带有断言的脚本来验证程序是否返回来期望的结果。

XMeter专业版支持用户在XMeter中基于JMeter脚本来创建自定义场景并发起测试，在本教程中，您将学习如何创建自定义场景并快速发起测试。

## 创建并发起自定义场景测试

1. 下载安装JMeter，并创建自定义.jmx脚本,入门教程请参考[文档](https://www.jianshu.com/p/0e4daecc8122)。

   ![image-20230310162151113](../_assets/jmeter.png)

2. 登录XMeter后，进入测试管理的测试中心页面，点击创建场景。

3. 输入场景名称，将步骤1中创建的.jmx脚本上传，如果脚本中配置了数据文件（仅支持.csv或.txt文件），要将配置的所有数据文件上传。（注意脚本中CSV数据文件设置中的文件名只需要文件名，不需要带文件路径。）

   ![image-20230310161735656](../_assets/upload_custom_scene.png)

4. 勾选需要拆分的数据文件。被拆分的数据文件的数据将会按照不同容器分配给虚拟用户。每个容器分配到的数据文件是不同的。不被拆分的数据文件将会被所有容器共享。

5. 点击创建并测试，进行自定义场景测试的配置。

   ![image-20230310162941672](../_assets/custom_scene_test.png)

   - 设置测试名称：为测试设置具有辨识度的名称，与其他测试区分。
   - 设置测试时长：测试的预期运行时间。
   - 虚拟用户数：压力测试中模拟的用户数量，默认为.jmx脚本中线程组的线程数。多个线程组时，需要点击后为每个线程组分别设置。虚拟用户数必须大于0。
   - 发压区域：发压区域与对等连接中 XMeter 端 VPC 所属区域对应。指定发压区域后，将从该区域发起压测，否则由系统分配发压区域。
   - Ramp-Up 时间： 指定了测试运行时在多长时间内达到用户设定的最大虚拟用户数。如果不填则会默认使用.jmx脚本线程组中的 Ramp-Up Period(in seconds) 中的值。
   - 设置描述：为测试提供进一步的说明信息。

6. 点击下一步，核对测试配置信息与价格估算。

   ![image-20230310163056794](../_assets/custom_scene_estimation.png)

7. 点击立即测试，将跳转到测试报告页面。在准备测试环境过程中，将会花费一些时间，测试将在指定测试时长后完成。您将在测试报告页面实时查看到测试的状态与数据，并在测试完成后下载测试报告。您可以前往 [测试报告](../features/test_reports.md)，了解如何解读测试报告。

   